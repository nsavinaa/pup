{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %}География{% endblock %}

{% block content %}
  <h1 class="text-2xl font-bold mb-6">География профессии: Аналитик</h1>

  <!-- Уровень зарплат по городам -->
  <h2 class="text-lg font-semibold mt-6 mb-2">Уровень зарплат по городам</h2>
  <table class="table-auto border mb-4">
    <thead>
      <tr>
        <th class="border px-2">Город</th>
        <th class="border px-2">Средняя зарплата (руб.)</th>
      </tr>
    </thead>
    <tbody>
      {% for city, salary in geo_salary_data.items %}
        <tr>
          <td class="border px-2">{{ city }}</td>
          <td class="border px-2">{{ salary|intcomma }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="2" class="border px-2 text-center">Нет данных</td></tr>
      {% endfor %}
    </tbody>
  </table>
  <img src="/media/graphs/table_salary_by_city_analyst.png" alt="Таблица Зарплаты по городам">
  <img src="/media/graphs/salary_by_city_analyst.png" alt="Зарплаты по городам">
  <!-- Доля вакансий по городам -->
  <h2 class="text-lg font-semibold mt-6 mb-2">Доля вакансий по городам</h2>
  <table class="table-auto border mb-4">
    <thead>
      <tr>
        <th class="border px-2">Город</th>
        <th class="border px-2">Доля вакансий</th>
      </tr>
    </thead>
    <tbody>
      {% for city, percent in geo_vacancy_data.items %}
        <tr>
          <td class="border px-2">{{ city }}</td>
          <td class="border px-2">{{ percent }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="2" class="border px-2 text-center">Нет данных</td></tr>
      {% endfor %}
    </tbody>
  </table>
  <img src="/media/graphs/table_vacancy_share_by_city_analyst.png" alt="Таблица Доля вакансий по городам">
  <img src="/media/graphs/vacancy_share_by_city_analyst.png" alt="Доля вакансий по городам">
{% endblock %}